using Microsoft.EntityFrameworkCore;
using Server.Common.Persistence;
using Server.Common.Persistence.Repositories;

namespace Server.Features.Client.Repositories;

public class ClientRepository(DataContext dbContext) : BaseRepository<ClientModel>(dbContext), IClientRepository
{
    private readonly DataContext _dbContext = dbContext;

    public Task<ClientModel?> GetClientByIpAsync(string ip)
    {
        var client = _dbContext.Clients.FirstOrDefaultAsync(x => x.Ip.Equals(ip, StringComparison.CurrentCultureIgnoreCase));
        return client;
    }
}